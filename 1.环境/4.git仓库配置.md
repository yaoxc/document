# git将本地文件上传到 https://github.com/yaoxc/document.git

下面给出**“从零开始，把本地文件第一次推到已存在的空仓库 https://github.com/yaoxc/document.git”**的最简步骤（Intel Mac + zsh，通用任何仓库）。

------------------------------------------------
## 1. 安装/确认 Git & 登录
```bash
# 第一次用 Git 需告诉 Git 你是谁
git config --global user.name  "yaoxc"
git config --global user.email "ios_yaoxinchao@163.com"
```

## 2. 生成本地仓库
```bash
cd ~/Desktop/myDoc              # 进入要上传的文件夹
git init                        # 初始化空仓库
git add .                       # 所有文件加入暂存区
git commit -m "first commit"    # 提交到本地仓库
```

## 3. 把远程地址挂上来（用 HTTPS 或 SSH 均可）  
   **A. HTTPS 方式**（适合临时/代理网络）
```bash
git remote add origin https://github.com/yaoxc/document.git
```
**B. SSH 方式**（长期、免每次输密码，推荐）
```bash
git remote add origin git@github.com:yaoxc/document.git
```
> 若选 SSH，先保证 `ssh-keygen` 生成密钥并加到 GitHub（Settings → SSH keys）。

### 3.1 生成ssh keys
一条命令链搞定（macOS + zsh，Intel/Apple 芯片通用）：

------------------------------------------------
#### 1. 生成密钥（Ed25519 算法，体积小安全性高）
```bash
ssh-keygen -t ed25519 -C "ios_yaoxinchao@163.com" -f ~/.ssh/id_ed25519
```
一路回车即可（密码短语可空）。

------------------------------------------------
#### 2. 把公钥复制到剪贴板
```bash
cat ~/.ssh/id_ed25519.pub | pbcopy
```
终端里不会有任何输出，公钥已进系统剪贴板。

------------------------------------------------
#### 3. 添加到 GitHub  
   网页登录 → 右上角头像 → **Settings** → **SSH and GPG keys** → **New SSH key**
- Title 随便写，例如 `MacBook-Pro-2025`
- Key 粘贴（刚才 `pbcopy` 的内容）→ **Add SSH key**

------------------------------------------------

#### 4. 首次验证
```bash
ssh -T git@github.com
```
看到
```shell

mac@MacBookPro document % 
mac@MacBookPro document % ssh -T git@github.com
The authenticity of host 'github.com (20.205.243.166)' can't be established.
ED25519 key fingerprint is SHA256:+DiY3wvvV6TuJJhbpZisF/zLDA0zPMSvHdkr4UvCOqU.
This key is not known by any other names.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added 'github.com' (ED25519) to the list of known hosts.


//  这里输入电脑的密码
Enter passphrase for key '/Users/mac/.ssh/id_ed25519':  
Hi yaoxc! You've successfully authenticated, but GitHub does not provide shell access.
mac@MacBookPro document % 
mac@MacBookPro document %

```


即可。

------------------------------------------------
#### 5. 本地仓库改用 SSH 地址
```bash
git remote set-url origin git@github.com:yaoxc/document.git
```
以后 `git push` 不再问密码。

### 3.2 git remote add 报 错误：远程 origin 已经存在

报错说明本地仓库已经挂过名叫 `origin` 的远程地址，只需**删掉或改地址**，无需再 `add`。

------------------------------------------------
#### 1. 查看现有远程
```bash
git remote -v
```
典型输出
```
origin  https://github.com/old/repo.git (fetch)
origin  https://github.com/old/repo.git (push)
```

------------------------------------------------
#### 2. 删掉旧的

示例
```bash
# 删掉
git remote remove origin
```

------------------------------------------------
#### 3. 确认结果
```bash
git remote -v
```
无输出（已删）或显示新地址即 OK，再正常 `git push -u origin main` 即可。

## 4. 第一次推送（远程还是空仓库，用 `-u` 建立追踪）
```bash
git push -u origin main
```
*GitHub 默认分支已改为 `main`，若你本地还是 `master` 可：
```bash
git branch -M main        # 重命名后再 push
```

------------------------------------------------


## 5.常见补充
- 远程已有 README 导致冲突  
  先拉一次再推：
```bash
git pull origin main --rebase
git push
```
